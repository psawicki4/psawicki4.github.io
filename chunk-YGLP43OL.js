import{a as e,b as u,ba as S,ga as j,ra as w,tc as l,ua as b,uc as p,va as v}from"./chunk-6QZFDAGR.js";function I(n){let t=l(()=>n());return T(t)?new Proxy(n,{get(o,r){return r in t?(b(o[r])||Object.defineProperty(o,r,{value:p(()=>o()[r]),configurable:!0}),I(o[r])):o[r]}}):n}var x=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function T(n){if(n===null||typeof n!="object"||E(n))return!1;let t=Object.getPrototypeOf(n);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(x.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function E(n){return typeof n?.[Symbol.iterator]=="function"}var W=new WeakMap,i=Symbol("STATE_SOURCE");function V(n,...t){n[i].update(o=>t.reduce((r,s)=>e(e({},r),typeof s=="function"?s(r):s),o)),O(n)}function C(n){return n[i]()}function K(n){return W.get(n[i])||[]}function O(n){let t=K(n);for(let o of t){let r=l(()=>C(n));o(r)}}function _(...n){let t=[...n],o=typeof t[0]=="function"?{}:t.shift(),r=t;return(()=>{class c{constructor(){let f=r.reduce((a,R)=>R(a),P()),{stateSignals:d,props:M,methods:D,hooks:k}=f,g=e(e(e({},d),M),D);this[i]=f[i];for(let a of Reflect.ownKeys(g))this[a]=g[a];let{onInit:y,onDestroy:m}=k;y&&y(),m&&j(w).onDestroy(m)}static \u0275fac=function(d){return new(d||c)};static \u0275prov=S({token:c,factory:c.\u0275fac,providedIn:o.providedIn||null})}return c})()}function P(){return{[i]:v({}),stateSignals:{},props:{},methods:{},hooks:{}}}function A(n){return t=>{let o=n(e(e(e({[i]:t[i]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(o),u(e({},t),{props:e(e({},t.props),o)})}}function G(n){return A(n)}function J(n){return t=>{let o=n(e(e(e({[i]:t[i]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(o),u(e({},t),{methods:e(e({},t.methods),o)})}}function L(n){return t=>{let o=typeof n=="function"?n():n,r=Reflect.ownKeys(o);t[i].update(c=>e(e({},c),o));let s=r.reduce((c,h)=>{let f=p(()=>t[i]()[h]);return u(e({},c),{[h]:I(f)})},{});return u(e({},t),{stateSignals:e(e({},t.stateSignals),s)})}}export{V as a,_ as b,G as c,J as d,L as e};
