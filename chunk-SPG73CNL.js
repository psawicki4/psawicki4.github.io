import{ba as u,ea as g,j as m,q as E,s as f}from"./chunk-VSJFYGMP.js";var a=class{};function y(s){return s&&typeof s.connect=="function"&&!(s instanceof m)}var C=class extends a{constructor(e){super(),this._data=e}connect(){return f(this._data)?this._data:E(this._data)}disconnect(){}},l=function(s){return s[s.REPLACED=0]="REPLACED",s[s.INSERTED=1]="INSERTED",s[s.MOVED=2]="MOVED",s[s.REMOVED=3]="REMOVED",s}(l||{}),M=new g("_ViewRepeater");var p=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,i,t,h,n){e.forEachOperation((c,_,o)=>{let r,d;if(c.previousIndex==null){let S=()=>t(c,_,o);r=this._insertView(S,o,i,h(c)),d=r?l.INSERTED:l.REPLACED}else o==null?(this._detachAndCacheView(_,i),d=l.REMOVED):(r=this._moveView(_,o,i,h(c)),d=l.MOVED);n&&n({context:r?.context,operation:d,record:c})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,i,t,h){let n=this._insertViewFromCache(i,t);if(n){n.context.$implicit=h;return}let c=e();return t.createEmbeddedView(c.templateRef,c.context,c.index)}_detachAndCacheView(e,i){let t=i.detach(e);this._maybeCacheView(t,i)}_moveView(e,i,t,h){let n=t.get(e);return t.move(n,i),n.context.$implicit=h,n}_maybeCacheView(e,i){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let t=i.indexOf(e);t===-1?e.destroy():i.remove(t)}}_insertViewFromCache(e,i){let t=this._viewCache.pop();return t&&i.insert(t,e),t||null}};var k=(()=>{let e=class e{constructor(){this._listeners=[]}notify(t,h){for(let n of this._listeners)n(t,h)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(h=>t!==h)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(h){return new(h||e)},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();export{y as a,C as b,M as c,p as d,k as e};
