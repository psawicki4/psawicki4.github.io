<ng-container *transloco="let t; prefix: 'GRID'">
  <psa-card>
    <div class="h-full">
      <h1 class="text-2xl">{{ t('header') }}</h1>
      @if (portrait()) {
      <div class="flex flex-col gap-4 items-center">
        <mat-icon class="screenRotationSize">screen_rotation</mat-icon>
        <p class="text-xl">{{ t('landscape') }}</p>
      </div>
      } @else {
      <div class="flex flex-col gap-4">
        <p>{{ t('component-desc') }}</p>
        <span class="self-end flex flex-row gap-4">
          <button matButton (click)="resetState()">{{ t('reset-state') }}</button>
          <button matButton (click)="export()">{{ t('csv-export') }}</button>
        </span>
        @defer (on immediate) {
        <ng-container #outlet>
        </ng-container>
        }
      </div>
      }
    </div>
  </psa-card>
</ng-container>

<ng-template #content>
  <ag-grid-angular [rowData]="store.countries()" [loading]="loading" [columnDefs]="colDefs" [pagination]="true"
    [paginationPageSize]="paginationPageSize" [initialState]="initialState"
    [paginationPageSizeSelector]="paginationPageSizeSelector" [localeText]="localeText" [theme]="theme"
    style="height: 513px" (gridReady)="onGridReady($event)" (stateUpdated)="updateState($event)" />
</ng-template>