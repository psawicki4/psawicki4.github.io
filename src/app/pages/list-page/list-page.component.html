<ng-container *transloco="let t; prefix: 'LIST'">
  <psa-card>
    <h1 class="text-2xl mb-4">{{ t('header') }}</h1>
    <div class="flex flex-col gap-4 items-center">
      <p class="mb-4">{{ t('component-desc') }}</p>
      <p class="text-lg">{{ t('hello') }}</p>
      <div class="flex flex-col md:flex-row gap-16">
        <div class="psa-list">
          <psa-list [data]="store.rooms().data" [itemHeight]="72" (fetchMore)="fetchMoreRooms()"
            (selected)="selectRoom($event)">
            <ng-template listItemTemplate let-dataItem>
              <span class="flex flex-row justify-between items-center">
                <p [ngClass]="dataItem.roomNumber === 666 ? 'hell' : ''">{{ t('room-number') }} {{
                  dataItem.roomNumber }}</p>
                @if (dataItem.booked) {
                <p class="booked">{{ t('reservation') }}</p>
                }
              </span>
            </ng-template>
          </psa-list>
        </div>
        <div class="flex flex-col gap-8 w-72">
          <p>{{ t('selected-room') }}</p>
          @if (store.selectedRoom().roomNumber > 0) {
          <p>{{ t('room-nr') }} {{ store.selectedRoom().roomNumber }}</p>
          <span class="flex flex-row gap-4">
            @if (!store.selectedRoom().booked) {
            <button matButton (click)="cancel()">{{ t('cancel') }}</button>
            <button matButton (click)="book()">{{ t('reserve') }}</button>
            } @else {
            <button matButton (click)="cancel()">{{ t('cancel') }}</button>
            <button matButton (click)="deleteReservation()">{{ t('delete-reservation') }}</button>
            }
          </span>
          }
        </div>
        <div class="w-72">
          <p class="mb-4">{{ t('your-reservations') }}</p>
          @for (room of store.bookedRooms(); track room.roomNumber) {
          <p>{{ t('room-nr') }} {{ room.roomNumber }}</p>
          }
        </div>
      </div>
    </div>
  </psa-card>
</ng-container>